[gd_scene load_steps=44 format=4 uid="uid://bkya73l0upn3m"]

[ext_resource type="Texture2D" uid="uid://bgfoq8v5kgbgo" path="res://assets/backgrounds/sky.png" id="1_ccscm"]
[ext_resource type="Script" uid="uid://q22lrhgano7r" path="res://scenes/scene_2.gd" id="1_qo03w"]
[ext_resource type="Texture2D" uid="uid://bvch6k2gux6bm" path="res://assets/flooring/wet_floor.png" id="3_is556"]
[ext_resource type="FontFile" uid="uid://b3esi7yukr5pn" path="res://assets/fonts/Papernotes.ttf" id="3_qo03w"]
[ext_resource type="PackedScene" uid="uid://cfmcelubuiv0b" path="res://scenes/sprites/player.tscn" id="3_yun4j"]
[ext_resource type="PackedScene" uid="uid://c4b5fx6d3uvol" path="res://scenes/menus/options_menu.tscn" id="4_is556"]
[ext_resource type="Texture2D" uid="uid://dt72spmbqa63a" path="res://assets/objects/trees/bush.png" id="5_a3h35"]
[ext_resource type="PackedScene" uid="uid://byeai7rtiqq3p" path="res://scenes/extras/cloud.tscn" id="5_ul8a6"]
[ext_resource type="Texture2D" uid="uid://fc8a4rbcnukq" path="res://assets/objects/trees/trees5.png" id="6_8egj7"]
[ext_resource type="Texture2D" uid="uid://crrc5vpb3xbj6" path="res://assets/objects/trees/trees6.png" id="7_4xuhb"]
[ext_resource type="Texture2D" uid="uid://c1la71nsmg328" path="res://assets/objects/blurred_trees.png" id="8_is556"]
[ext_resource type="Texture2D" uid="uid://cy3gj2ccikq0s" path="res://assets/objects/trees/trees7.png" id="8_nbtma"]
[ext_resource type="Texture2D" uid="uid://dh2ofkb4bsl63" path="res://assets/objects/trees/trees1.png" id="9_bt1fo"]
[ext_resource type="Texture2D" uid="uid://bluljdsb071gx" path="res://assets/objects/trees/trees2.png" id="10_0xl4q"]
[ext_resource type="Texture2D" uid="uid://esif7ah8jxqe" path="res://assets/objects/trees/trees3.png" id="11_oyiwn"]
[ext_resource type="Texture2D" uid="uid://c1bwoqdkav86b" path="res://assets/objects/trees/trees4.png" id="12_8igo0"]
[ext_resource type="AudioStream" uid="uid://cijwu44b2nnug" path="res://assets/sounds/soundEffects/heavy-rain-314309.mp3" id="13_8egj7"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_vlvxn"]
texture = ExtResource("5_a3h35")
0:0/size_in_atlas = Vector2i(13, 13)
0:0/0 = 0

[sub_resource type="TileSet" id="TileSet_bt1fo"]
sources/0 = SubResource("TileSetAtlasSource_vlvxn")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_0xl4q"]
texture = ExtResource("6_8egj7")
0:0/size_in_atlas = Vector2i(15, 15)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_oyiwn"]
texture = ExtResource("7_4xuhb")
0:0/size_in_atlas = Vector2i(16, 16)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_8igo0"]
texture = ExtResource("8_nbtma")
0:0/size_in_atlas = Vector2i(14, 13)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_i44rj"]
texture = ExtResource("5_a3h35")
0:0/size_in_atlas = Vector2i(13, 13)
0:0/0 = 0

[sub_resource type="TileSet" id="TileSet_i44rj"]
sources/0 = SubResource("TileSetAtlasSource_0xl4q")
sources/1 = SubResource("TileSetAtlasSource_oyiwn")
sources/2 = SubResource("TileSetAtlasSource_8igo0")
sources/3 = SubResource("TileSetAtlasSource_i44rj")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_w3b3s"]
texture = ExtResource("5_a3h35")
0:0/size_in_atlas = Vector2i(13, 13)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_unm0y"]
texture = ExtResource("9_bt1fo")
0:0/size_in_atlas = Vector2i(15, 15)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_lkfw3"]
texture = ExtResource("10_0xl4q")
0:0/size_in_atlas = Vector2i(15, 15)
0:0/0 = 0

[sub_resource type="TileSet" id="TileSet_unm0y"]
sources/0 = SubResource("TileSetAtlasSource_w3b3s")
sources/1 = SubResource("TileSetAtlasSource_unm0y")
sources/2 = SubResource("TileSetAtlasSource_lkfw3")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_xaq16"]
texture = ExtResource("5_a3h35")
0:0/size_in_atlas = Vector2i(13, 13)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_sivv1"]
texture = ExtResource("11_oyiwn")
0:0/size_in_atlas = Vector2i(13, 13)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_3o3mb"]
texture = ExtResource("12_8igo0")
0:0/size_in_atlas = Vector2i(15, 15)
0:0/0 = 0

[sub_resource type="TileSet" id="TileSet_w3b3s"]
sources/0 = SubResource("TileSetAtlasSource_xaq16")
sources/3 = SubResource("TileSetAtlasSource_sivv1")
sources/4 = SubResource("TileSetAtlasSource_3o3mb")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_qo03w"]
size = Vector2(79.25, 818)

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_4xuhb"]
blend_mode = 1

[sub_resource type="Curve" id="Curve_nbtma"]
_limits = [0.0, 0.3, 0.0, 1.0]
_data = [Vector2(0, 0), 0.0, 1.64695, 0, 0, Vector2(0.252016, 0.298531), 0.0, 0.0, 0, 0, Vector2(0.514113, 0.3), 0.0, 0.0, 0, 0, Vector2(0.747984, 0.3), 0.0, 0.0, 0, 0, Vector2(1, 0), -2.07446, 0.0, 0, 0]
point_count = 5

[sub_resource type="CurveTexture" id="CurveTexture_ipu61"]
curve = SubResource("Curve_nbtma")

[sub_resource type="Gradient" id="Gradient_vlvxn"]
offsets = PackedFloat32Array(0, 0.404255)
colors = PackedColorArray(1, 1, 1, 0.0784314, 1, 1, 1, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_wi4c7"]
gradient = SubResource("Gradient_vlvxn")

[sub_resource type="Curve" id="Curve_bt1fo"]
_limits = [0.0, 3.0, 0.0, 1.0]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_0xl4q"]
_limits = [0.0, 221.176, 0.0, 1.0]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 118.255), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_oyiwn"]
_limits = [0.0, 3.0, 0.0, 1.0]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveXYZTexture" id="CurveXYZTexture_5cypo"]
curve_x = SubResource("Curve_bt1fo")
curve_y = SubResource("Curve_0xl4q")
curve_z = SubResource("Curve_oyiwn")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_8igo0"]
particle_flag_disable_z = true
emission_shape_offset = Vector3(850, -50, 0)
emission_shape = 3
emission_box_extents = Vector3(850, 1, 1)
gravity = Vector3(0, 6000, 0)
scale_min = 0.2
scale_max = 0.2
scale_over_velocity_curve = SubResource("CurveXYZTexture_5cypo")
color_initial_ramp = SubResource("GradientTexture1D_wi4c7")
alpha_curve = SubResource("CurveTexture_ipu61")

[node name="scene2" type="Node2D"]
script = ExtResource("1_qo03w")

[node name="treesBlur" type="TextureRect" parent="."]
z_index = 1
offset_left = -34.0
offset_top = 49.0
offset_right = 1814.0
offset_bottom = 791.0
scale = Vector2(0.96, 0.96)
texture = ExtResource("8_is556")
expand_mode = 1
flip_h = true

[node name="background" type="TextureRect" parent="."]
offset_top = -143.0
offset_right = 1669.0
offset_bottom = 684.0
size_flags_horizontal = 6
texture = ExtResource("1_ccscm")

[node name="floor" type="TextureRect" parent="."]
offset_left = -80.0
offset_top = 94.0
offset_right = 6335.0
offset_bottom = 3438.0
scale = Vector2(0.32, 0.32)
texture = ExtResource("3_is556")

[node name="TileMap" type="TileMap" parent="."]
format = 2

[node name="tinyBushes" type="TileMapLayer" parent="TileMap"]
scale = Vector2(0.24, 0.24)
tile_map_data = PackedByteArray("AABKAIIAAAAAAAAAAADZAIEAAAAAAAAAAAAlAYEAAAAAAAAAAABQAYEAAAAAAAAAAABiAX8AAAAAAAAAAAA4AIAAAAAAAAAAAAAmAIAAAAAAAAAAAACXAYAAAAAAAAAAAACiAYAAAAAAAAAAAAA=")
tile_set = SubResource("TileSet_bt1fo")

[node name="smallTrees" type="TileMapLayer" parent="TileMap"]
scale = Vector2(0.439999, 0.439999)
tile_map_data = PackedByteArray("AAAwAEEAAAAAAAAAAADKAEAAAQAAAAAAAACaAEEAAgAAAAAAAAAAAEIAAgAAAAAAAAB+AEUAAwAAAAAAAACJAEUAAwAAAAAAAACuAEQAAwAAAAAAAAANAEQAAwAAAAAAAAA0AEQAAwAAAAAAAAA=")
tile_set = SubResource("TileSet_i44rj")

[node name="bigTrees" type="TileMapLayer" parent="TileMap"]
position = Vector2(-325, -269)
scale = Vector2(1.52, 1.52)
tile_map_data = PackedByteArray("AAAoABkAAQAAAAAAAABDABkAAQAAAAAAAAAXABkAAgAAAAAAAABUABkAAgAAAAAAABA=")
tile_set = SubResource("TileSet_unm0y")

[node name="mediumTrees" type="TileMapLayer" parent="TileMap"]
tile_map_data = PackedByteArray("AAAZABkABAAAAAAAAABiABkABAAAAAAAAAAJABkAAwAAAAAAAABHABkAAwAAAAAAAAAxABkAAwAAAAAAAAAgAB0AAAAAAAAAAABqAB0AAAAAAAAAAAA=")
tile_set = SubResource("TileSet_w3b3s")

[node name="player" parent="." instance=ExtResource("3_yun4j")]
y_sort_enabled = true
position = Vector2(74, 496)
scale = Vector2(1.46494, 1.46494)

[node name="Camera2D" type="Camera2D" parent="player"]
scale = Vector2(1.00877, 0.869533)
offset = Vector2(0, -105)
limit_left = 0
limit_right = 1650

[node name="Label" type="Label" parent="."]
offset_left = 564.0
offset_top = 318.0
offset_right = 1112.0
offset_bottom = 553.0
theme_override_constants/line_spacing = 30
theme_override_fonts/font = ExtResource("3_qo03w")
theme_override_font_sizes/font_size = 24
text = "The fishing ponds overflowed and flooded the roads. 
The fish had now claimed our streets, 
so residents cast nets everywhere to catch them."

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="OptionsMenu" parent="CanvasLayer" instance=ExtResource("4_is556")]
offset_left = 392.0
offset_top = 206.0
offset_right = 392.0
offset_bottom = 206.0

[node name="Cloud" parent="." instance=ExtResource("5_ul8a6")]

[node name="Entrance" type="Node2D" parent="."]

[node name="Area2D" type="Area2D" parent="Entrance"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Entrance/Area2D"]
position = Vector2(-10, 395)
shape = SubResource("RectangleShape2D_qo03w")

[node name="Exit" type="Node2D" parent="."]

[node name="Area2D" type="Area2D" parent="Exit"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Exit/Area2D"]
position = Vector2(1683.63, 395)
shape = SubResource("RectangleShape2D_qo03w")

[node name="rain" type="GPUParticles2D" parent="."]
material = SubResource("CanvasItemMaterial_4xuhb")
amount = 3000
lifetime = 0.5
preprocess = 0.5
visibility_rect = Rect2(0, 0, 1700, 800)
process_material = SubResource("ParticleProcessMaterial_8igo0")

[node name="rain" type="AudioStreamPlayer2D" parent="rain"]
stream = ExtResource("13_8egj7")
volume_db = -10.0
autoplay = true
bus = &"Music"

[connection signal="body_entered" from="Entrance/Area2D" to="." method="_on_entrance_2d_body_entered"]
[connection signal="body_entered" from="Exit/Area2D" to="." method="_on_area_2d_body_entered"]
